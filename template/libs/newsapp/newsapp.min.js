(function(b){var e=function(){function e(b){var c=document.createElement("iframe");c.setAttribute("style","display:none;width:0;height:0;position: absolute;top:0;left:0;border:0;");c.setAttribute("height","0px");c.setAttribute("width","0px");c.setAttribute("frameborder","0");b?c.setAttribute("src",b):document.documentElement.appendChild(c);return c}var k,c=/Android/gi,f=c.test(navigator.platform)||c.test(navigator.userAgent);k=null;return{protocol:function(c,g,l){var d,a;l?b.location.href=c:g?(f?
(d=e(),d.setAttribute("src",c)):(d=e(c),document.documentElement.appendChild(d)),a=setTimeout(function(){d&&d&&d.parentNode.removeChild(d)},3E4),d.onload=d.onreadystatechange=function(){a&&clearTimeout(a);d&&d&&d.parentNode.removeChild(d)}):(k=k||e(),k.setAttribute("src",c))}}}();b.NewsappClient=function(e){var g;function c(a,b){e(a,!0);l&&b&&(a=a.match(/[\w]:\/\/(.*)/),b(a&&a[1]))}function f(a,b){d[b]&&0<d[b].length&&(b=d[b].shift())&&b.call(this,a)}var m=/newsapp/ig.test(navigator.userAgent),h=
/Android/gi,l=!1,h=h.test(navigator.platform)||h.test(navigator.userAgent),d;d={afterEncrypt:[],afterShare:[],afterUserinfo:[],afterLogin:[],afterDevice:[],afterUploadImage:[],afterComment:[],afterOtherappinfo:[],afterActionbutton:[],afterAddAlert:[],afterRemoveAlert:[],afterCheckAlert:[],afterChangeAlert:[],afterEnableAlert:[],afterTrashId:[],afterLocation:[]};g=h?"otherappinfo://":"otherappinfo://intent/";b.__newsapp_share_done=function(a){f(a,"afterShare")};b.__newsapp_encrypt_done=function(a){f(a,
"afterEncrypt")};b.__newsapp_userinfo_done=function(a){f(a,"afterUserinfo")};b.__newsapp_login_done=function(a){f(a,"afterLogin")};b.__newsapp_device_done=function(a){f(a,"afterDevice")};b.__newsapp_upload_image_done=function(a){f(a,"afterUploadImage")};b.__newsapp_comment_done=function(a){f(a,"afterComment")};b.__newsapp_otherappinfo_done=function(a){f(a,"afterOtherappinfo")};b.__newsapp_browser_actionbutton=function(a){f(a,"afterActionbutton")};b.__newsapp_alert_add_done=function(a){f(a,"afterAddAlert")};
b.__newsapp_alert_remove_done=function(a){f(a,"afterRemoveAlert")};b.__newsapp_alert_check_done=function(a){f(a,"afterCheckAlert")};b.__newsapp_alert_change_done=function(a){f(a,"afterChangeAlert")};b.__newsapp_alert_enable_done=function(a){f(a,"afterEnableAlert")};b.__newsapp_trashid_done=function(a){f(a,"afterTrashId")};b.__newsapp_location_done=function(a){f(a,"afterLocation")};return{isNewsapp:m,login:function(a){d.afterLogin.push(a);c("login://",a)},userInfo:function(a){d.afterUserinfo.push(a);
c("userinfo://",a)},device:function(a){d.afterDevice.push(a);c("device://",a)},share:function(a,b){d.afterShare=[a];c("share://{TYPE}".replace("{TYPE}",b||""),a)},encrypt:function(a,e){d.afterEncrypt.push(e);b.extra&&b.extra.__newsapp_encrypt?f(b.extra.__newsapp_encrypt(a),"afterEncrypt"):c("encrypt://"+encodeURIComponent(a),e)},updateProfile:function(){c("updateprofile://")},uploadImageByCamera:function(a,b,e){d.afterUploadImage.push(e);c("uploadimage://camera/{W}_{H}".replace("{W}",a).replace("{H}",
b),e)},uploadImageByAlbum:function(a,b,e){d.afterUploadImage.push(e);c("uploadimage://album/{W}_{H}".replace("{W}",a).replace("{H}",b),e)},pushView:function(a){c("pushview://{TYPE}".replace("{TYPE}",a))},openComment:function(a,b,e){c("newsapp://comment/{BOARD_ID}/{DOC_ID}/{TITLE}".replace("{BOARD_ID}",a).replace("{DOC_ID}",b).replace("{TITLE}",e||""))},comment:function(a){d.afterComment.push(a);c("comment://",a)},otherappinfo:function(a,b){d.afterOtherappinfo.push(b);c(g+a,b)},copy:function(a){c("copy://"+
a)},toolbar:function(a){c("docmode://toolbar/{COMMAND}".replace("{COMMAND}",a))},modifyTitle:function(a){document.title=a||document.title;c("docmode://modifytitle/{TITLE}".replace("{TITLE}",encodeURIComponent(a)))},actionbutton:function(a,b){d.afterActionbutton.push(b);c("docmode://actionbutton/{NAME}".replace("{NAME}",encodeURIComponent(a)),b)},enableDebug:function(){l=!0},addAlert:function(a){d.afterAddAlert.push(a);c("alert://add",a)},removeAlert:function(a){d.afterRemoveAlert.push(a);c("alert://remove",
a)},checkAlert:function(a){d.afterCheckAlert.push(a);c("alert://check",a)},changeAlert:function(a){d.afterChangeAlert.push(a);c("alert://change",a)},enableAlert:function(a){d.afterEnableAlert.push(a);c("alert://enable",a)},trashId:function(a){d.afterTrashId.push(a);c("trashid://",a)},location:function(a){d.afterLocation.push(a);c("location://current",a)},open:function(a,e){a=a||"/startup";e=e||"sps";m?c("newsapp:/"+a):b.location.href="http://m.163.com/newsapp/applinks.html?path="+encodeURIComponent(a)+
"&s="+e},protocol:c,Callbacks:d}}(e.protocol)})(window);
(function(b){b.NewsappShare={shareData:{weibo:"",title:"",desc:"",img_url:"",link:""},update:function(b){for(var e in b)this.shareData.hasOwnProperty(e)&&(this.shareData[e]=b[e]);b=""+('<div id="__newsapp_sharetext">'+(this.shareData.weibo||this.shareData.title)+" "+this.shareData.link+"</div>");b+='<div id="__newsapp_sharephotourl">'+this.shareData.img_url+"</div>";b+='<div id="__newsapp_sharewxtitle">'+this.shareData.title+"</div>";b+='<div id="__newsapp_sharewxtext">'+this.shareData.desc+"</div>";
b+='<div id="__newsapp_sharewxthumburl">'+this.shareData.img_url+"</div>";b+='<div id="__newsapp_sharewxurl">'+this.shareData.link+"</div>";document.getElementById("__newsapp_shareconfig").innerHTML=b},updateImg:function(b){b='<div id="__newsapp_sharetext">\u56fe\u7247\u5206\u4eab</div>'+('<div id="__newsapp_sharephotourl">'+b+"</div>");document.getElementById("__newsapp_shareconfig").innerHTML=b},getAbsPath:function(b){if(b){var e=document.createElement("a");e.href=b;return e.href}return location.href.replace(/(\?|#).*/,
"")}};document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",b.NewsappShare.shareData,function(){b.__newsapp_share_done()})});WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",b.NewsappShare.shareData,function(){b.__newsapp_share_done()})})},!1)})(window);
(function(b){b.NewsappStats={trackView:function(e){b.neteaseAnalysis&&b.neteaseAnalysis({type:"special",modelid:b._ntes_sps_modelid,view:e,spst:5});b._hmt&&b._hmt.push(["_trackPageview",location.pathname.replace("index.html",e+".html")])},trackEvent:function(e,g){g=g||"main";b.neteaseAnalysis&&b.neteaseAnalysis({type:"func",modelid:b._ntes_sps_modelid,view:g,event:e,spst:5});b._hmt&&b._hmt.push(["_trackEvent",g,e])}}})(window);